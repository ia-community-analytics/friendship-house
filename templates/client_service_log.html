{% extends 'layout.html' %}

{% block header %}
    <h1>{% block title %}Client Service Log{% endblock %}</h1>
{% endblock %}

{% block scripts %}


    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='select2.css') }}" />
    <script type="text/javascript" src="{{ url_for('static', filename='jquery-1.10.2.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='select2.js') }}"></script>
{% endblock %}


{% block content %}
    <script type="text/javascript">
        $(document).ready(function() {
            $('.js-example-basic-single').select2();
        });
    </script>
    <p>Add a new service log</p>
    <form id="client_service_log" method="post">
        <div id="date_field">
            Date: <input type="date" min="1960-01-01" max="{{ date }}" name="Date" value={{ date }}>
        </div>

        {#    first table#}
        <div id="first">
            <table name="first">
                <th>Client Information</th>
                <th>In Home</th>
                <tr>
                    <td>
                        <table id="info">
                            <th>Last Name</th>
                            <th>First Name</th>
                            <th>DOB</th>
                            <th>Gender</th>
                            <th>Telephone</th>

                            <tr>
                                <td><input type="text" name="lastname" value="{{ data.last_name }}" required>
                                </td>
                                <td><input type="text" name="firstname" value="{{ data.first_name }}" required>
                                </td>
                                <td><input type="date" min="1960-01-01" max="{{ date }}" name="dob" value="{{ data.dob }}" required></td>
                                <td>
                                    <input type="text" name="gender" value="{{ data.gender }}">
                                </td>
                                <td><input type="tel" name="phone" value="{{ data.phone }}"></td>
                            </tr>
                        </table>
                    </td>
                    <td>
                        Adults: <input type="number" name="adults" min="0" value="{{ data.nber_adults }}"><br>
                        Under 18: <input type="number" name="under18" min="0"
                                         value="{{ data.nber_under_18 }}"><br>
                        Total: <input type="number" name="inhome" min="0" value="{{ data.total_in_home }}">
                    </td>
                </tr>
            </table>
        </div>

        {#    second table#}
        <div id="second">
            <table name="second">
                <th>Program Status</th>
                <th>Appointment Type</th>
                <th>Appointment Description</th>
                <th>Service UOS</th>

                <tr>
                    <td>
                        <select class="programs" multiple="multiple">
                            <option name="acesmember">ACES Member</option>
                            <option name="housingservices">Housing Services</option>
                            <option name="swhp">S.W.H.P. Participant</option>
                            <option name="youthed">Youth Ed. Family</option>
                            <option name="seniorsupport">Senior Support</option>
                            <option name="adulted">Adult Education</option>
                            <option name="focservices">FOC Services</option>
                            <option name="other_pgm_status">Other</option>
                        </select>
                    </td>
                    <td>
                        <select class="programs" multiple="multiple">
                            <option name="indirectservice">Indirect Service</option>
                            <option name="phonecall">Phone Call</option>
                            <option name="walkin">Walk In/Group</option>
                            <option name="inoffice">(In Office)</option>
                            <option name="outofoffice">(Out of Office)</option>
                        </select>
                        <br>Location:<br> <input type="text" name="location">
                    </td>
                    <td>
                        <select class="programs" multiple="multiple">
                            <option name="generalcm">General CM/Coaching/Follow-up</option>
                            <option name="financecoaching">Finance Coaching</option>
                            <option name="employmentcoaching">Employment Coaching</option>
                            <option name="reassessment">Re-Assessment/New Plan</option>
                            <option name="casestaffing">Case Staffing</option>
                            <option name="caseclosure">Case Closure</option>
                        </select>
                    </td>

                    <td>
                        <select name="uos">
                            <option value="15">15 Minutes</option>
                            <option value="30">30 Minutes</option>
                            <option value="45">45 Minutes</option>
                            <option value="1">1 Hour</option>
                            <option value="other">Other</option>
                        </select>
                        Other:<input type="number" name="other_service_txt" min="0" , step=".25"><br>
                        New Apointment:<br>
                        Date: <input type="date" min="1960-01-01" max="{{ date }}"><br>
                        Time: <input type="time">
                    </td>
                </tr>
            </table>
        </div>

        {#    third table#}
        <div id="third">
            <table name="third">
                <th>Case Note: Service Need(s) AND Service(s) Provided:</th>
                <th></th>

                <tr>
                    <td>
                    <textarea rows="5" cols="50" name="casenote">
                    </textarea>
                    </td>

                    <td>
                        Did member demonstrate Improvement in Presenting Issue (Immediate Need met)?<br>
                        <select name="need_met">
                            <option value="Y">Yes</option>
                            <option value="N">No</option>
                            <option value="P">Pending</option>
                        </select><br>
                        Did member demonstrate Gained Life Management Skills (HW Completion)?<br>
                        <select name="hw_completion">
                            <option value="Y">Yes</option>
                            <option value="N">No</option>
                            <option value="P">Pending</option>
                        </select><br>
                    </td>
                </tr>
            </table>
        </div>

        {#    fourth table#}
        <div id="fourth">
            <table name="fourth">
                <th>Supportive Services Provided:</th>
                <th>QTY</th>
                <th>$ Value</th>

                <tr>
                    <td>
                        Food
                        <select class="supportiveservices" multiple="multiple">
                            <option name="1-2day">1-2 Day Supply</option>
                            <option name="3-5day">3-5 Day Supply</option>
                            <option name="dogfood">Dog Food</option>
                            <option name="catfood">Cat Food</option>
                        </select>
                    </td>
                    <td><input type="number" name="foodqty"></td>
                    <td>$<input type="number" step="0.01" name="foodvalue"></td>
                </tr>

                <tr>
                    <td>
                        Clothing
                        <select class="supportiveservices" multiple="multiple">
                            <option name="singleclothing">Single Item</option>
                            <option name="outfitclothing">Outfit</option>
                            <option name="multipleclothing">Multiple Items</option>
                            <option name="multipleoutfitsclothing">Multiple Outfits</option>
                        </select>
                    </td>
                    <td><input type="number" name="clothingqty"></td>
                    <td>$<input type="number" step="0.01" name="clothingvalue"></td>
                </tr>

                <tr>
                    <td>
                        Hygiene
                        <select class="supportiveservices" multiple="multiple">
                            <option name="singlehygiene">Single Item</option>
                            <option name="basichygiene">Basic Pack</option>
                            <option name="familyhygieneItems">Family Pack</option>
                        </select>
                    </td>
                    <td><input type="number" name="hygieneqty"></td>
                    <td>$<input type="number" step="0.01" name="hygienevalue"></td>
                </tr>

                <tr>
                    <td>
                        Baby Items
                        <select class="supportiveservices" multiple="multiple">
                            <option name="diaperbaby">Diaper/Wipes</option>
                            <option name="formulababy">Formula</option>
                            <option name="foodbaby">Baby Food</option>
                            <option name="layettebaby">Layette </option>
                        </select>
                    </td>
                    <td><input type="number" name="babyqty"></td>
                    <td>$<input type="number" step="0.01" name="babyvalue"></td>
                </tr>

                <tr>
                    <td>
                        Financial
                        <select class="supportiveservices" multiple="multiple">
                            <option name="depositfinance">RR: Deposit </option>
                            <option name="rentfinance">RR: Rent </option>
                            <option name="arrearsfinance">Rent Arrears </option>
                            <option name="utilityfinance">Utility Arrears </option>
                        </select>
                    </td>
                    <td><input type="number" name="financeqty"></td>
                    <td>$<input type="number" step="0.01" name="financevalue"></td>
                </tr>

                <tr>
                    <td>
                        Legal
                        <select class="supportiveservices" multiple="multiple">
                            <option name="psllegal">PSL </option>
                            <option name="immigrationlegal">Immigration </option>
                            <option name="other_legal">Other </option>
                        </select>
                    </td>
                    <td><input type="number" name="legalqty"></td>
                    <td>$<input type="number" step="0.01" name="legalvalue"></td>
                </tr>

                <tr>
                    <td>
                        HouseHold
                        <select class="supportiveservices" multiple="multiple">
                            <option name="singlehousehold">Single Item</option>
                            <option name="basichousehold">Basic Pack</option>
                            <option name="familyhousehold">Family Pack</option>
                        </select>
                    </td>
                    <td><input type="number" name="familyqty"></td>
                    <td>$<input type="number" step="0.01" name="familyvalue"></td>
                </tr>

                <tr>
                    <td>
                        Other: <input type="text" name="other_service_provided">
                    </td>
                    <td><input type="number" name="otherqty"></td>
                    <td>$<input type="number" step="0.01" name="othervalue"></td>
                </tr>

                <tr>
                    <td>
                        Transportation <input type="checkbox" name="transportation?"><br>
                        To/From: <input type="text" name="to_from">
                        Miles: <input type="number" name="miles">
                    </td>
                    <td><input type="number" name="transportationqty"></td>
                    <td>$<input type="number" step="0.01" name="transportationvalue"></td>
                </tr>
            </table>
        </div>

        {#    fifth#}
        <div id="fifth">
            <table>
                <th></th>
                <th></th>

                <tr>
                    <td>
                        <table name="fifth_l">
                            <th>External Referral Information</th>
                            <tr>
                                <td>Agency:</td>
                                <td><input type="text" name="agency"></td>
                            </tr>
                            <tr>
                                <td>Contact Person:</td>
                                <td><input type="text" name="contactperson"></td>
                            </tr>
                            <tr>
                                <td>Telephone #:</td>
                                <td><input type="tel" name="external_telephone"></td>
                            </tr>
                        </table>
                    </td>

                    <td>
                        <table name="fifth_r">
                            <th>Staff Notes / Other</th>
                            <tr>
                                <td><input type="text" name="staff_notes"></td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </div>
        <div id="staffCSL">
            Staff Completing CSL: <input type="text" name="staff_completing_csl">
        </div>
        <input name="race" value="{{ data.race }}" hidden>
        <input name="zipcode" value="{{ data.zipcode }}" hidden>
        <input type="submit" name="action"/>
    </form>
{% endblock %}
